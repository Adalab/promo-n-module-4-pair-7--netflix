{"ast":null,"code":"import _slicedToArray from\"/home/sheila/Escritorio/adalab/ejercicios-de-adalab/Modulo-4/promo-n-module-4-pair-7--netflix/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Route,Switch}from'react-router-dom';// components\nimport Header from'./Header';import AllMovies from'./AllMovies';import MyMovies from'./MyMovies';import Login from'./Login';import Profile from'./Profile';import SignUp from'./SignUp';// services\nimport apiMovies from'../services/api-movies';import apiUser from'../services/api-user';import router from'../services/router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){// state: user\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userEmail=_useState6[0],setUserEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),userPassword=_useState8[0],setUserPassword=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),userMovies=_useState10[0],setUserMovies=_useState10[1];// state: login\nvar _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),loginErrorMessage=_useState12[0],setLoginErrorMessage=_useState12[1];// state: sign up\nvar _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),signUpErrorMessage=_useState14[0],setSignUpErrorMessage=_useState14[1];// state: movies\nvar _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),appMovies=_useState16[0],setAppMovies=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),allMoviesOptionGender=_useState18[0],setAllMoviesOptionGender=_useState18[1];var _useState19=useState('asc'),_useState20=_slicedToArray(_useState19,2),allMoviesOptionSort=_useState20[0],setAllMoviesOptionSort=_useState20[1];/*\n  useEffect: obtener las películas del API.\n  Se ejecuta cuando allMoviesOptionGender o allMoviesOptionSort cambian de valor.\n  Como queremos que el back devuelva las películas filtradas por género y ordenadas por nombre estamos pasando a getMoviesFromApi estos dos valores.\n  */useEffect(function(){var params={gender:allMoviesOptionGender,sort:allMoviesOptionSort};apiMovies.getMoviesFromApi(params).then(function(response){setAppMovies(response.movies);});},[allMoviesOptionGender,allMoviesOptionSort]);/*\n  useEffect: obtener el perfil de la usuaria.\n  Se ejecuta cuando userId cambian de valor, es decir, cuando pasa de un string vacío a un strin relleno con el id de la usuaria.\n  Como queremos que el back devuelva los datos de una usuaria getProfileFromApi recibe el userId.\n  */useEffect(function(){if(userId!==''){apiUser.getProfileFromApi(userId).then(function(response){setUserName(response.name);setUserEmail(response.email);setUserPassword(response.password);});}},[userId]);/*\n  useEffect: obtener las películas de la usuaria.\n  Se ejecuta cuando userId cambian de valor, es decir, cuando pasa de un string vacío a un strin relleno con el id de la usuaria.\n  Como queremos que el back devuelva las películas de una usuaria getUserMoviesFromApi recibe el userId.\n  */useEffect(function(){if(userId!==''){apiUser.getUserMoviesFromApi(userId).then(function(response){setUserMovies(response.movies);});}},[userId]);/*\n  Event: enviar datos del login al API.\n  Con este evento enviamos los datos del login al servidor cuando la usuaria lanza el evento.\n  Como queremos que el back devuelva el id de la usuaria sendLoginToApi recibe el email y la contraseña que ella haya escrito.\n  */var sendLoginToApi=function sendLoginToApi(loginData){// Limpiamos el error antes de enviar los datos al API\nsetLoginErrorMessage('');// Enviamos los datos al API\napiUser.sendLoginToApi(loginData).then(function(response){if(response.success===true){setUserId(response.userId);// Si la usuaria introduce bien sus datos redireccionamos desde la página de login al inicio de la página\nrouter.redirect('/');}else{// Si la usuaria introduce mal sus datos guardamos el error que nos devuelve el API para que se pinte en la página\nsetLoginErrorMessage(response.errorMessage);}});};/*\n  Event: enviar datos del sign up (o registro) al API.\n  Con este evento enviamos los datos del sign up al servidor cuando la usuaria lanza el evento.\n  Como queremos que el back devuelva el id de la usuaria sendSingUpToApi recibe el email y la contraseña que ella haya escrito.\n  */var sendSingUpToApi=function sendSingUpToApi(data){// Limpiamos el error antes de enviar los datos al API\nsetSignUpErrorMessage('');// Enviamos los datos al API\napiUser.sendSingUpToApi(data).then(function(response){if(response.success===true){setUserId(response.userId);// Si la usuaria introduce bien sus datos redireccionamos desde la página de signup al inicio de la página\nrouter.redirect('/');}else{// Si la usuaria introduce mal sus datos guardamos el error que nos devuelve el API para que se pinte en la página\nsetSignUpErrorMessage(response.errorMessage);}});};/*\n  Event: enviar datos del profile al API.\n  Con este evento enviamos los datos del profile al servidor cuando la usuaria lanza el evento.\n  Le tenemos que indicar qué datos (nombre, email y contraseña) queremos enviar al API.\n  También le tenemos que indicar cuál es la usuaria actual, por ello enviamos el userId\n  */var sendProfileToApi=function sendProfileToApi(userId,data){apiUser.sendProfileToApi(userId,data).then(function(){// Después de enviar los datos al servidor los volvemos a pedir al servidor para tenerlos actualizados\napiUser.getProfileFromApi(userId).then(function(response){setUserName(response.name);setUserEmail(response.email);setUserPassword(response.password);});});};/*\n  Event: cerrar sesión.\n  Redireccionamos al inicio de la página.\n  Recargamos la página para que se borren todos los datos del estado de React.\n  */var logout=function logout(){router.redirect('/');router.reload();};/*\n  Event: actualizar el género y la ordenación.\n  Aquí solo guardamos los datos en el estado.\n  En el primer useEffect le decimos que cuando estos datos cambien vuelva a pedir las películas al API.\n  */var handleAllMoviesOptions=function handleAllMoviesOptions(data){if(data.key==='gender'){setAllMoviesOptionGender(data.value);}else if(data.key==='sort'){setAllMoviesOptionSort(data.value);}};// render\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{isUserLogged:!!userId,logout:logout}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(AllMovies,{movies:appMovies,allMoviesOptionGender:allMoviesOptionGender,allMoviesOptionSort:allMoviesOptionSort,handleAllMoviesOptions:handleAllMoviesOptions})}),/*#__PURE__*/_jsx(Route,{path:\"/my-movies\",children:/*#__PURE__*/_jsx(MyMovies,{movies:userMovies})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:/*#__PURE__*/_jsx(Login,{loginErrorMessage:loginErrorMessage,sendLoginToApi:sendLoginToApi})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:/*#__PURE__*/_jsx(SignUp,{signUpErrorMessage:signUpErrorMessage,sendSingUpToApi:sendSingUpToApi})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",children:/*#__PURE__*/_jsx(Profile,{userName:userName,userEmail:userEmail,userPassword:userPassword,sendProfileToApi:sendProfileToApi})})]})]});};export default App;","map":{"version":3,"sources":["/home/sheila/Escritorio/adalab/ejercicios-de-adalab/Modulo-4/promo-n-module-4-pair-7--netflix/web/src/components/App.js"],"names":["React","useEffect","useState","Route","Switch","Header","AllMovies","MyMovies","Login","Profile","SignUp","apiMovies","apiUser","router","App","userId","setUserId","userName","setUserName","userEmail","setUserEmail","userPassword","setUserPassword","userMovies","setUserMovies","loginErrorMessage","setLoginErrorMessage","signUpErrorMessage","setSignUpErrorMessage","appMovies","setAppMovies","allMoviesOptionGender","setAllMoviesOptionGender","allMoviesOptionSort","setAllMoviesOptionSort","params","gender","sort","getMoviesFromApi","then","response","movies","getProfileFromApi","name","email","password","getUserMoviesFromApi","sendLoginToApi","loginData","success","redirect","errorMessage","sendSingUpToApi","data","sendProfileToApi","logout","reload","handleAllMoviesOptions","key","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n// components\nimport Header from './Header';\nimport AllMovies from './AllMovies';\nimport MyMovies from './MyMovies';\nimport Login from './Login';\nimport Profile from './Profile';\nimport SignUp from './SignUp';\n// services\nimport apiMovies from '../services/api-movies';\nimport apiUser from '../services/api-user';\nimport router from '../services/router';\n\nconst App = () => {\n  // state: user\n  const [userId, setUserId] = useState('');\n  const [userName, setUserName] = useState('');\n  const [userEmail, setUserEmail] = useState('');\n  const [userPassword, setUserPassword] = useState('');\n  const [userMovies, setUserMovies] = useState([]);\n  // state: login\n  const [loginErrorMessage, setLoginErrorMessage] = useState('');\n  // state: sign up\n  const [signUpErrorMessage, setSignUpErrorMessage] = useState('');\n  // state: movies\n  const [appMovies, setAppMovies] = useState([]);\n  const [allMoviesOptionGender, setAllMoviesOptionGender] = useState('');\n  const [allMoviesOptionSort, setAllMoviesOptionSort] = useState('asc');\n\n  /*\n  useEffect: obtener las películas del API.\n  Se ejecuta cuando allMoviesOptionGender o allMoviesOptionSort cambian de valor.\n  Como queremos que el back devuelva las películas filtradas por género y ordenadas por nombre estamos pasando a getMoviesFromApi estos dos valores.\n  */\n  useEffect(() => {\n    const params = {\n      gender: allMoviesOptionGender,\n      sort: allMoviesOptionSort\n    };\n    apiMovies.getMoviesFromApi(params).then(response => {\n      setAppMovies(response.movies);\n    });\n  }, [allMoviesOptionGender, allMoviesOptionSort]);\n\n  /*\n  useEffect: obtener el perfil de la usuaria.\n  Se ejecuta cuando userId cambian de valor, es decir, cuando pasa de un string vacío a un strin relleno con el id de la usuaria.\n  Como queremos que el back devuelva los datos de una usuaria getProfileFromApi recibe el userId.\n  */\n  useEffect(() => {\n    if (userId !== '') {\n      apiUser.getProfileFromApi(userId).then(response => {\n        setUserName(response.name);\n        setUserEmail(response.email);\n        setUserPassword(response.password);\n      });\n    }\n  }, [userId]);\n\n  /*\n  useEffect: obtener las películas de la usuaria.\n  Se ejecuta cuando userId cambian de valor, es decir, cuando pasa de un string vacío a un strin relleno con el id de la usuaria.\n  Como queremos que el back devuelva las películas de una usuaria getUserMoviesFromApi recibe el userId.\n  */\n  useEffect(() => {\n    if (userId !== '') {\n      apiUser.getUserMoviesFromApi(userId).then(response => {\n        setUserMovies(response.movies);\n      });\n    }\n  }, [userId]);\n\n  /*\n  Event: enviar datos del login al API.\n  Con este evento enviamos los datos del login al servidor cuando la usuaria lanza el evento.\n  Como queremos que el back devuelva el id de la usuaria sendLoginToApi recibe el email y la contraseña que ella haya escrito.\n  */\n  const sendLoginToApi = loginData => {\n    // Limpiamos el error antes de enviar los datos al API\n    setLoginErrorMessage('');\n    // Enviamos los datos al API\n    apiUser.sendLoginToApi(loginData).then(response => {\n      if (response.success === true) {\n        setUserId(response.userId);\n        // Si la usuaria introduce bien sus datos redireccionamos desde la página de login al inicio de la página\n        router.redirect('/');\n      } else {\n        // Si la usuaria introduce mal sus datos guardamos el error que nos devuelve el API para que se pinte en la página\n        setLoginErrorMessage(response.errorMessage);\n      }\n    });\n  };\n\n  /*\n  Event: enviar datos del sign up (o registro) al API.\n  Con este evento enviamos los datos del sign up al servidor cuando la usuaria lanza el evento.\n  Como queremos que el back devuelva el id de la usuaria sendSingUpToApi recibe el email y la contraseña que ella haya escrito.\n  */\n  const sendSingUpToApi = data => {\n    // Limpiamos el error antes de enviar los datos al API\n    setSignUpErrorMessage('');\n    // Enviamos los datos al API\n    apiUser.sendSingUpToApi(data).then(response => {\n      if (response.success === true) {\n        setUserId(response.userId);\n        // Si la usuaria introduce bien sus datos redireccionamos desde la página de signup al inicio de la página\n        router.redirect('/');\n      } else {\n        // Si la usuaria introduce mal sus datos guardamos el error que nos devuelve el API para que se pinte en la página\n        setSignUpErrorMessage(response.errorMessage);\n      }\n    });\n  };\n\n  /*\n  Event: enviar datos del profile al API.\n  Con este evento enviamos los datos del profile al servidor cuando la usuaria lanza el evento.\n  Le tenemos que indicar qué datos (nombre, email y contraseña) queremos enviar al API.\n  También le tenemos que indicar cuál es la usuaria actual, por ello enviamos el userId\n  */\n  const sendProfileToApi = (userId, data) => {\n    apiUser.sendProfileToApi(userId, data).then(() => {\n      // Después de enviar los datos al servidor los volvemos a pedir al servidor para tenerlos actualizados\n      apiUser.getProfileFromApi(userId).then(response => {\n        setUserName(response.name);\n        setUserEmail(response.email);\n        setUserPassword(response.password);\n      });\n    });\n  };\n\n  /*\n  Event: cerrar sesión.\n  Redireccionamos al inicio de la página.\n  Recargamos la página para que se borren todos los datos del estado de React.\n  */\n  const logout = () => {\n    router.redirect('/');\n    router.reload();\n  };\n\n  /*\n  Event: actualizar el género y la ordenación.\n  Aquí solo guardamos los datos en el estado.\n  En el primer useEffect le decimos que cuando estos datos cambien vuelva a pedir las películas al API.\n  */\n  const handleAllMoviesOptions = data => {\n    if (data.key === 'gender') {\n      setAllMoviesOptionGender(data.value);\n    } else if (data.key === 'sort') {\n      setAllMoviesOptionSort(data.value);\n    }\n  };\n\n  // render\n\n  return (\n    <>\n      {/* Le paso Header un booleano indicando si la usuaria está o no logada.\n      No es necesario pasarle el userId, no necesita saberlo, le basta con saber si está logada o no.\n      De esta forma Header maneja datos más simples y solo los que necesita. Queremos que Header sea lo más simple posible. */}\n      <Header isUserLogged={!!userId} logout={logout} />\n      <Switch>\n        <Route exact path=\"/\">\n          <AllMovies\n            movies={appMovies}\n            allMoviesOptionGender={allMoviesOptionGender}\n            allMoviesOptionSort={allMoviesOptionSort}\n            handleAllMoviesOptions={handleAllMoviesOptions}\n          />\n        </Route>\n        <Route path=\"/my-movies\">\n          <MyMovies movies={userMovies} />\n        </Route>\n        <Route path=\"/login\">\n          <Login loginErrorMessage={loginErrorMessage} sendLoginToApi={sendLoginToApi} />\n        </Route>\n        <Route path=\"/signup\">\n          <SignUp signUpErrorMessage={signUpErrorMessage} sendSingUpToApi={sendSingUpToApi} />\n        </Route>\n        <Route path=\"/profile\">\n          <Profile\n            userName={userName}\n            userEmail={userEmail}\n            userPassword={userPassword}\n            sendProfileToApi={sendProfileToApi}\n          />\n        </Route>\n      </Switch>\n    </>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}